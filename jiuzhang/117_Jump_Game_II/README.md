<h1>117 · Jump Game II</h1>
<div data-h5="false" class="problem-description-content-niBfd problem-detail-bottom-LKDTq"><div data-h5="false" class="content-wrapper-bgslg"><div class="sub-title-D4Ea3 with-action-U2Xi7">Description</div><div class="react-markdown react-markdown-xncmA"><p>Given an array of positive integers, you are initially positioned at the array's first index.</p>
<p>Each element in the array represents your maximum jump length at that position.</p>
<p>Your goal is to reach the last index in the minimum number of jumps, The testcase is guaranteed to reach the last position of the array.</p></div><div data-show="true" class="ant-alert ant-alert-info ant-alert-with-description ant-alert-no-icon connection-pXLnw" role="alert" style="margin-bottom: 16px;"><div class="ant-alert-content"><div class="ant-alert-description"><div class="react-markdown react-markdown-xncmA"><p>Wechat reply  【Google】 get the latest requent Interview questions. (wechat id : <strong>jiuzhang1104</strong>)</p></div></div></div><button type="button" class="ant-alert-close-icon" tabindex="0"><span role="img" aria-label="close" class="anticon anticon-close"><svg viewBox="64 64 896 896" focusable="false" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg></span></button></div><div data-show="true" class="ant-alert ant-alert-info ant-alert-with-description notice-tn1L9" role="alert"><span role="img" aria-label="info-circle" class="anticon anticon-info-circle ant-alert-icon"><svg viewBox="64 64 896 896" focusable="false" data-icon="info-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"></path></svg></span><div class="ant-alert-content"><div class="ant-alert-description"><div class="react-markdown react-markdown-xncmA"><p>The array <code>A</code> contains <code>𝑛</code> integers 𝑎1, 𝑎2, …, 𝑎𝑛 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>20000</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1 \leq a_i \leq 20000)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.786em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">20000</span><span class="mclose">)</span></span></span></span></span> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>20000</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1\leq n \leq20000)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">20000</span><span class="mclose">)</span></span></span></span></span></p></div></div></div></div></div><div data-h5="false" class="content-wrapper-bgslg"><div class="sub-title-D4Ea3">Example</div><div class="react-markdown react-markdown-xncmA"><p><strong>Example 1:</strong></p>
<p>Input:</p>
<pre><div class="markdown-thumbnail-wrapper" style="height: auto; max-height: unset;"><div class="lc-code-wrapper"><pre style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code style="white-space: pre;"><span>A = [</span><span style="color: rgb(245, 171, 53);">2</span><span>,</span><span style="color: rgb(245, 171, 53);">3</span><span>,</span><span style="color: rgb(245, 171, 53);">1</span><span>,</span><span style="color: rgb(245, 171, 53);">1</span><span>,</span><span style="color: rgb(245, 171, 53);">4</span><span>]</span></code></pre><div class="code-block-buttons"><span title="Copy Code" class="code-block-copy-button"><span role="img" aria-label="copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></span></span></div></div></div></pre>
<p>Output:</p>
<pre><div class="markdown-thumbnail-wrapper" style="height: auto; max-height: unset;"><div class="lc-code-wrapper"><pre style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code style="white-space: pre;"><span>2</span></code></pre><div class="code-block-buttons"><span title="Copy Code" class="code-block-copy-button"><span role="img" aria-label="copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></span></span></div></div></div></pre>
<p>Explanation:</p>
<p>The minimum number of jumps to reach the last index is 2. (Jump 1 step from index 0 to 1, then 3 steps to the last index.)</p></div></div></div>
<div class="detail-CvB6V" id="right-panel-detail"><div class="user-oQMUt"><span class="left-QBtms"><span class="ant-avatar ant-avatar-circle ant-avatar-image" style="width: 24px; height: 24px; line-height: 24px; font-size: 18px;"><img src="http://lintcode-media.oss-accelerate.aliyuncs.com/avatars%2F311314%2Fll.png"></span><div class="username-OmF6j">LintCodeOfficial</div></span><div class="official-tag-PZa6n">Official</div></div><div class="info-ztwS4"><span class="create-at-n6kTz">Publish at 2021-05-06</span><div class="language-or-tag-list-ynjPl"><div class="language-or-tag-list-item-bwzZ2">Java</div><div class="language-or-tag-list-item-bwzZ2">Python 3</div><div class="language-or-tag-list-item-bwzZ2">C++</div></div></div><div class="content-Vmfj8"><div class="react-markdown"><h2>动态规划</h2>
<h3>解题思路</h3>
<ul>
<li>比较容易想到的是动态规划的方法。</li>
<li>定义<code>dp</code>状态，<code>dp[i]</code>表示跳到下标为<code>i</code>的位置最少需要几次跳跃</li>
<li>初始化状态：<code>dp[0]</code>设为0，其他设成一个不可能的值（正无穷或者nums.length + 1）</li>
<li>状态转移方程: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>M</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi mathvariant="normal">.</mi><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dp[i] = Math.min(dp[j]+1,dp[i])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.10903em;">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord">.</span><span class="mord mathnormal">min</span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">])</span></span></span></span></span>，其中<code>dp[j]</code>表示从下标<code>[0,i)</code>中能够能够走到位置<code>i</code>的所有情况。</li>
</ul>
<h3>复杂度分析</h3>
<ul>
<li>时间复杂度：<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>为数组<code>A</code>的长度。对数组进行双重遍历。</li>
<li>空间复杂度：<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>，<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>为数组<code>A</code>的长度。考虑到<code>dp</code>数组占用的空间。</li>
</ul>
<h3>代码</h3>
<pre><div class="markdown-thumbnail-wrapper" style="height: auto; max-height: unset;"><div class="wrap-vVJ8z"><div class="btns-YSYH_"><div class="btn-oMcAa" data-active="true">python</div><div class="btn-oMcAa" data-active="false">java</div><div class="btn-oMcAa" data-active="false">c++</div></div><div class="lc-code-wrapper"><pre style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">1</span><span class="hljs-class" style="color: rgb(220, 198, 224);">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(0, 224, 224);">Solution</span><span class="hljs-class">:</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">3</span><span>&nbsp; &nbsp; </span><span style="color: rgb(171, 227, 56);">"""
</span><span style="color: rgb(171, 227, 56);"><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">4</span>&nbsp; &nbsp; @param A: A list of integers
</span><span style="color: rgb(171, 227, 56);"><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">5</span>&nbsp; &nbsp; @return: An integer
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">6</span><span style="color: rgb(171, 227, 56);">&nbsp; &nbsp; """</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">8</span><span>&nbsp; &nbsp; </span><span class="hljs-function" style="color: rgb(220, 198, 224);">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(0, 224, 224);">jump</span><span class="hljs-function">(</span><span class="hljs-function" style="color: rgb(245, 171, 53);">self, A</span><span class="hljs-function">):</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">9</span><span>&nbsp; &nbsp; &nbsp; &nbsp; n = </span><span style="color: rgb(245, 171, 53);">len</span><span>(A)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">10</span><span>&nbsp; &nbsp; &nbsp; &nbsp; dp = [</span><span style="color: rgb(245, 171, 53);">0</span><span>] * n
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">11</span><span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">for</span><span> i </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">range</span><span>(</span><span style="color: rgb(245, 171, 53);">1</span><span>, n):
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">12</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dp[i] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(</span><span style="color: rgb(171, 227, 56);">'inf'</span><span>)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">13</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">for</span><span> j </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">range</span><span>(i):
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">14</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;	</span><span style="color: rgb(212, 208, 171);"># 如果从j可以到跳到i</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">15</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">if</span><span> A[j] + j &gt;= i:
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">16</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dp[i] = </span><span style="color: rgb(245, 171, 53);">min</span><span>(dp[i], dp[j] + </span><span style="color: rgb(245, 171, 53);">1</span><span>)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">17</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">break</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">18</span><span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">return</span><span> dp[n - </span><span style="color: rgb(245, 171, 53);">1</span><span>]
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">19</span></code></pre><div class="code-block-buttons"><span title="Copy Code" class="code-block-copy-button"><span role="img" aria-label="copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></span></span></div></div></div></div></pre>
<h2>贪心法</h2>
<h3>解题思路</h3>
<ul>
<li>
<p>我们利用贪心思想，实时维护最远可达的位置<code>rightmost</code>，和上次起跳点能到达的最远边界<code>end</code>。<code>step</code>是跳跃次数，即最终的返回结果。</p>
</li>
<li>
<p>依次遍历每个位置<code>i</code>，以<code>i</code>作为起跳点，假设这是第<code>step</code>次跳跃，已知第<code>step-1</code>次跳跃时能跳到的最远距离是<code>end</code></p>
<ul>
<li>
<p>首先更新<code>rightmost = max(rightmost, A[i] + i)</code>，实时更新能跳到的最远的位置。</p>
</li>
<li>
<p>如果<code>end == i</code>，说明已经到达了第<code>step-1</code>次跳跃时能跳到的边界，跳跃次数<code>step</code>就加1，<code>end</code>更新为<code>rightmost</code>作为下个边界。</p>
</li>
<li>
<p>跳到终点后，返回跳跃次数<code>step</code>。</p>
</li>
</ul>
</li>
</ul>
<h3>举例分析</h3>
<ul>
<li>
<p>以<code>A = [2, 3, 1, 1, 4]</code>为例。</p>
</li>
<li>
<p><code>i</code> = 0时，以<code>A[0]</code>为起跳点，最远能跳到第<code>rightmost = 2</code>个位置。因为<code>end == i</code>，所以跳的次数加1，<code>step</code>为1。同时，<code>end</code>更新为2，表明下次跳跃的边界。</p>
</li>
<li>
<p><code>i</code> = 1时，更新<code>rightmost = 1 + A[1] = 4</code>。</p>
</li>
<li>
<p><code>i</code> = 2时，最远位置<code>rightmost</code>没有被更新。因为<code>end == i</code>，说明到达边界，所以跳的次数加1，<code>step</code>为2。</p>
</li>
<li>
<p><code>i</code> = 3时，最远位置<code>rightmost</code>没有被更新。</p>
</li>
<li>
<p>到达<code>A[4]</code>，遍历结束，最终结果<code>step</code>为<code>2</code>。</p>
</li>
</ul>
<h3>复杂度分析</h3>
<ul>
<li>
<p>时间复杂度：<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>，n为数组长度。一次遍历。</p>
</li>
<li>
<p>空间复杂度：<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p>
</li>
</ul>
<h3>代码</h3>
<pre><div class="markdown-thumbnail-wrapper" style="height: auto; max-height: unset;"><div class="wrap-vVJ8z"><div class="btns-YSYH_"><div class="btn-oMcAa" data-active="true">python</div><div class="btn-oMcAa" data-active="false">c++</div><div class="btn-oMcAa" data-active="false">java</div></div><div class="lc-code-wrapper"><pre style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">1</span><span class="hljs-class" style="color: rgb(220, 198, 224);">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(0, 224, 224);">Solution</span><span class="hljs-class">:</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">2</span><span>&nbsp; &nbsp; </span><span style="color: rgb(171, 227, 56);">"""
</span><span style="color: rgb(171, 227, 56);"><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">3</span>&nbsp; &nbsp; @param A: A list of integers
</span><span style="color: rgb(171, 227, 56);"><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">4</span>&nbsp; &nbsp; @return: An integer
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">5</span><span style="color: rgb(171, 227, 56);">&nbsp; &nbsp; """</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">6</span><span>&nbsp; &nbsp; </span><span class="hljs-function" style="color: rgb(220, 198, 224);">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(0, 224, 224);">jump</span><span class="hljs-function">(</span><span class="hljs-function" style="color: rgb(245, 171, 53);">self, A</span><span class="hljs-function">):</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">7</span><span>&nbsp; &nbsp; &nbsp; &nbsp; end = </span><span style="color: rgb(245, 171, 53);">0</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">8</span><span>&nbsp; &nbsp; &nbsp; &nbsp; rightmost = </span><span style="color: rgb(245, 171, 53);">0</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">9</span><span>&nbsp; &nbsp; &nbsp; &nbsp; step = </span><span style="color: rgb(245, 171, 53);">0</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">10</span><span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">for</span><span> i </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">range</span><span>(</span><span style="color: rgb(245, 171, 53);">len</span><span>(A) - </span><span style="color: rgb(245, 171, 53);">1</span><span>):
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">11</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(212, 208, 171);"># 计算能跳到的最远的位置</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">12</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rightmost = </span><span style="color: rgb(245, 171, 53);">max</span><span>(rightmost, A[i] + i)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">13</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(212, 208, 171);"># 遇到边界时更新边界，且步数加1</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">14</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">if</span><span> i == end:
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">15</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end = rightmost
<span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">16</span><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; step += </span><span style="color: rgb(245, 171, 53);">1</span><span>&nbsp;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none;">17</span><span>&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: rgb(220, 198, 224);">return</span><span> step</span></code></pre><div class="code-block-buttons"><span title="Copy Code" class="code-block-copy-button"><span role="img" aria-label="copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></span></span></div></div></div></div></pre></div></div><div class="wrapper-ZvacN"><div class="tip-T_UMB">If you think this solution is helpful to you, send him points!</div><button type="button" class="ant-btn ant-btn-default can-reward-button-pFzUv"><span role="img" aria-label="heart" class="anticon anticon-heart"><svg viewBox="64 64 896 896" focusable="false" data-icon="heart" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"></path></svg></span><span>Thanks for sharing（Send 10 points）</span></button></div><div class="publish-comment-wrap-B_jiC"><div class="publish-comment-title-pBIXY">Comment</div><div class="publish-comment-inner-KFgGw"><div class="rc-md-editor " style="flex: 1 1 0%; margin-right: 12px; border: 1px solid var(--border); padding-bottom: 0px;"><div class="rc-md-navigation visible"><div class="navigation-nav left"><div class="button-wrap"><span class="button button-type-header" title="Header"><i class="rmel-iconfont rmel-icon-font-size"></i><div class="drop-wrap hidden"><ul class="header-list"><li class="list-item"><h1>H1</h1></li><li class="list-item"><h2>H2</h2></li><li class="list-item"><h3>H3</h3></li><li class="list-item"><h4>H4</h4></li><li class="list-item"><h5>H5</h5></li><li class="list-item"><h6>H6</h6></li></ul></div></span><span class="button button-type-bold" title="Bold"><i class="rmel-iconfont rmel-icon-bold"></i></span><span class="button button-type-italic" title="Italic"><i class="rmel-iconfont rmel-icon-italic"></i></span><span class="button button-type-underline" title="Underline"><i class="rmel-iconfont rmel-icon-underline"></i></span><span class="button button-type-strikethrough" title="Strikethrough"><i class="rmel-iconfont rmel-icon-strikethrough"></i></span><span class="button button-type-unordered" title="Unordered list"><i class="rmel-iconfont rmel-icon-list-unordered"></i></span><span class="button button-type-ordered" title="Ordered list"><i class="rmel-iconfont rmel-icon-list-ordered"></i></span><span class="button button-type-quote" title="Quote"><i class="rmel-iconfont rmel-icon-quote"></i></span><span class="button button-type-wrap" title="Line break"><i class="rmel-iconfont rmel-icon-wrap"></i></span><span class="button button-type-code-inline" title="Inline code"><i class="rmel-iconfont rmel-icon-code"></i></span><span class="button button-type-code-block" title="Code"><i class="rmel-iconfont rmel-icon-code-block"></i></span><span class="button button-type-table" title="Table"><i class="rmel-iconfont rmel-icon-grid"></i><div class="drop-wrap hidden"><ul class="table-list wrap" style="width: 135px; height: 89px;"><li class="list-item " style="top: 0px; left: 0px;"></li><li class="list-item " style="top: 0px; left: 23px;"></li><li class="list-item " style="top: 0px; left: 46px;"></li><li class="list-item " style="top: 0px; left: 69px;"></li><li class="list-item " style="top: 0px; left: 92px;"></li><li class="list-item " style="top: 0px; left: 115px;"></li><li class="list-item " style="top: 23px; left: 0px;"></li><li class="list-item " style="top: 23px; left: 23px;"></li><li class="list-item " style="top: 23px; left: 46px;"></li><li class="list-item " style="top: 23px; left: 69px;"></li><li class="list-item " style="top: 23px; left: 92px;"></li><li class="list-item " style="top: 23px; left: 115px;"></li><li class="list-item " style="top: 46px; left: 0px;"></li><li class="list-item " style="top: 46px; left: 23px;"></li><li class="list-item " style="top: 46px; left: 46px;"></li><li class="list-item " style="top: 46px; left: 69px;"></li><li class="list-item " style="top: 46px; left: 92px;"></li><li class="list-item " style="top: 46px; left: 115px;"></li><li class="list-item " style="top: 69px; left: 0px;"></li><li class="list-item " style="top: 69px; left: 23px;"></li><li class="list-item " style="top: 69px; left: 46px;"></li><li class="list-item " style="top: 69px; left: 69px;"></li><li class="list-item " style="top: 69px; left: 92px;"></li><li class="list-item " style="top: 69px; left: 115px;"></li></ul></div></span><span class="button button-type-link" title="Link"><i class="rmel-iconfont rmel-icon-link"></i></span><span class="button button-type-clear" title="Clear"><i class="rmel-iconfont rmel-icon-delete"></i></span><span class="button button-type-undo disabled" title="Undo"><i class="rmel-iconfont rmel-icon-undo"></i></span><span class="button button-type-redo disabled" title="Redo"><i class="rmel-iconfont rmel-icon-redo"></i></span></div></div><div class="navigation-nav right"><div class="button-wrap"><span class="button button-type-mode" title="Only display preview"><i class="rmel-iconfont rmel-icon-visibility"></i></span><span class="button button-type-fullscreen" title="Full screen"><i class="rmel-iconfont rmel-icon-fullscreen"></i></span></div></div></div><div class="editor-container"><section class="section sec-md visible"><textarea name="textarea" placeholder="Say something" class="section-container input " wrap="hard"></textarea></section><section class="section sec-html in-visible"><div class="section-container html-wrap"><div class="preview-YA7EM"><div class="react-markdown"></div></div></div></section></div></div><button type="button" class="ant-btn ant-btn-primary"><span>Comment</span></button></div></div><div class="nest-comments-wrap-nCjn5"><div class=""><div></div><ul class="ant-pagination" unselectable="unselectable" style="display: none;"><li title="Previous Page" class="ant-pagination-prev ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span></button></li><li title="1" class="ant-pagination-item ant-pagination-item-1 ant-pagination-item-disabled" tabindex="0"><a rel="nofollow">1</a></li><li title="Next Page" class="ant-pagination-next ant-pagination-disabled" aria-disabled="true"><button class="ant-pagination-item-link" type="button" tabindex="-1" disabled=""><span role="img" aria-label="right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></button></li></ul></div></div></div>